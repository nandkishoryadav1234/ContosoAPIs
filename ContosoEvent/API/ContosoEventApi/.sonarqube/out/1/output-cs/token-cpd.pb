±.
}C:\Users\NandKishor.Yadav\LMS\Asp.NetCore WebApi\ContosoAPIs\ContosoEvent\API\ContosoEventApi\Controllers\EventsController.cs
	namespace 	
ContosoEventApi
 
. 
Controllers %
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
EventsController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
IEvent 
_context  (
;( )
public 
EventsController 
(  
IEvent  &
context' .
). /
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
Event3 8
>8 9
>9 :
>: ;
	GetEvents< E
(E F
)F G
{ 	
return 
await 
_context !
.! "
	GetEvents" +
(+ ,
), -
;- .
} 	
["" 	
HttpGet""	 
("" 
$str"" 
)"" 
]"" 
public## 
async## 
Task## 
<## 
ActionResult## &
<##& '
Event##' ,
>##, -
>##- .
GetEvent##/ 7
(##7 8
int##8 ;
id##< >
)##> ?
{$$ 	
var%% 
@event%% 
=%% 
await%% 
_context%% '
.%%' (
GetEvent%%( 0
(%%0 1
id%%1 3
)%%3 4
;%%4 5
if'' 
('' 
@event'' 
=='' 
null'' 
)'' 
{(( 
return)) 
NotFound)) 
())  
)))  !
;))! "
}** 
else++ 
{,, 
return-- 
@event-- 
;-- 
}.. 
}00 	
[44 	
HttpPut44	 
(44 
$str44 
)44 
]44 
public55 
async55 
Task55 
<55 
IActionResult55 '
>55' (
PutEvent55) 1
(551 2
int552 5
id556 8
,558 9
Event55: ?
@event55@ F
)55F G
{66 	
if77 
(77 
id77 
!=77 
@event77 
.77 
EventId77 $
)77$ %
{88 
return99 

BadRequest99 !
(99! "
)99" #
;99# $
}:: 
else<< 
{== 
bool@@ 
res@@ 
=@@ 
await@@  
_context@@! )
.@@) *
PutEvent@@* 2
(@@2 3
id@@3 5
,@@5 6
@event@@7 =
)@@= >
;@@> ?
ifAA 
(AA 
resAA 
)AA 
{BB 
returnDD 
	NoContentDD $
(DD$ %
)DD% &
;DD& '
}EE 
elseFF 
{GG 
returnII 

BadRequestII %
(II% &
)II& '
;II' (
}JJ 
}LL 
}NN 
[QQ 
HttpPostQQ 
]QQ 
publicRR 
asyncRR 
TaskRR 
<RR 
ActionResultRR &
<RR& '
EventRR' ,
>RR, -
>RR- .
	PostEventRR/ 8
(RR8 9
EventRR9 >
@eventRR? E
)RRE F
{SS 	
boolTT 
resTT 
=TT 
awaitTT 
_contextTT %
.TT% &
	PostEventTT& /
(TT/ 0
@eventTT0 6
)TT6 7
;TT7 8
ifWW 
(WW 
resWW 
)WW 
{XX 
returnYY 
CreatedAtActionYY &
(YY& '
$strYY' 1
,YY1 2
newYY3 6
{YY7 8
idYY9 ;
=YY< =
@eventYY> D
.YYD E
EventIdYYE L
}YYM N
,YYN O
@eventYYP V
)YYV W
;YYW X
}ZZ 
else[[ 
{\\ 
return]] 

BadRequest]] !
(]]! "
)]]" #
;]]# $
}^^ 
}aa 	
[dd 	

HttpDeletedd	 
(dd 
$strdd 
)dd 
]dd 
publicee 
asyncee 
Taskee 
<ee 
IActionResultee '
>ee' (
DeleteEventee) 4
(ee4 5
intee5 8
idee9 ;
)ee; <
{ff 	
ifhh 
(hh 
idhh 
==hh 
$numhh 
)hh 
{ii 
returnkk 
NotFoundkk 
(kk  
)kk  !
;kk! "
}ll 
elsemm 
{nn 
booloo 
resoo 
=oo 
awaitoo  
_contextoo! )
.oo) *
DeleteEventoo* 5
(oo5 6
idoo6 8
)oo8 9
;oo9 :
ifpp 
(pp 
respp 
)pp 
{qq 
returnrr 
	NoContentrr $
(rr$ %
)rr% &
;rr& '
}ss 
elsett 
{uu 
returnvv 

BadRequestvv %
(vv% &
)vv& '
;vv' (
}ww 
}xx 
}{{ 	
private}} 
bool}} 
EventExists}}  
(}}  !
int}}! $
id}}% '
)}}' (
{~~ 	
return 
_context 
. 
EventExists '
(' (
id( *
)* +
;+ ,
}
€€ 	
}
 
}‚‚ Å

hC:\Users\NandKishor.Yadav\LMS\Asp.NetCore WebApi\ContosoAPIs\ContosoEvent\API\ContosoEventApi\Program.cs
	namespace

 	
ContosoEventApi


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} †.
pC:\Users\NandKishor.Yadav\LMS\Asp.NetCore WebApi\ContosoAPIs\ContosoEvent\API\ContosoEventApi\Services\IEvent.cs
	namespace		 	
ContosoEventApi		
 
.		 
Services		 "
{

 
public 

	interface 
IEvent 
{ 
Task 
< 
ActionResult 
< 
IEnumerable %
<% &
Event& +
>+ ,
>, -
>- .
	GetEvents/ 8
(8 9
)9 :
;: ;
Task 
< 
ActionResult 
< 
Event 
>  
>  !
GetEvent" *
(* +
int+ .
id/ 1
)1 2
;2 3
Task 
< 
bool 
> 
PutEvent 
( 
int 
id  "
," #
Event$ )
e* +
)+ ,
;, -
Task 
< 
bool 
> 
	PostEvent 
( 
Event "
e# $
)$ %
;% &
Task 
< 
bool 
> 
DeleteEvent 
( 
int "
id# %
)% &
;& '
bool 
EventExists 
( 
int 
id 
)  
;  !
} 
public 

class 
EventService 
: 
IEvent  &
{ 
private 
readonly 
EventContext %
_context& .
;. /
public 
EventService 
( 
EventContext (
context) 0
)0 1
{ 	
_context 
= 
context 
; 
} 	
public!! 
async!! 
Task!! 
<!! 
ActionResult!! &
<!!& '
IEnumerable!!' 2
<!!2 3
Event!!3 8
>!!8 9
>!!9 :
>!!: ;
	GetEvents!!< E
(!!E F
)!!F G
{"" 	
return## 
await## 
_context## !
.##! "
Events##" (
.##( )
ToListAsync##) 4
(##4 5
)##5 6
;##6 7
}$$ 	
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
<&&& '
Event&&' ,
>&&, -
>&&- .
GetEvent&&/ 7
(&&7 8
int&&8 ;
id&&< >
)&&> ?
{'' 	
var(( 
@event(( 
=(( 
await(( 
_context(( '
.((' (
Events((( .
.((. /
	FindAsync((/ 8
(((8 9
id((9 ;
)((; <
;((< =
return// 
@event// 
;// 
}00 	
public22 
async22 
Task22 
<22 
bool22 
>22 
PutEvent22  (
(22( )
int22) ,
id22- /
,22/ 0
Event221 6
@event227 =
)22= >
{33 	
_context99 
.99 
Entry99 
(99 
@event99 !
)99! "
.99" #
State99# (
=99) *
EntityState99+ 6
.996 7
Modified997 ?
;99? @
await:: 
_context:: 
.:: 
SaveChangesAsync:: +
(::+ ,
)::, -
;::- .
if<< 
(<< 
id<< 
!=<< 
$num<< 
)<< 
{== 
return>> 
true>> 
;>> 
}?? 
else@@ 
{AA 
returnBB 
falseBB 
;BB 
}CC 
}DD 	
publicFF 
asyncFF 
TaskFF 
<FF 
boolFF 
>FF 
	PostEventFF  )
(FF) *
EventFF* /
@eventFF0 6
)FF6 7
{GG 	
_contextHH 
.HH 
EventsHH 
.HH 
AddHH 
(HH  
@eventHH  &
)HH& '
;HH' (
awaitII 
_contextII 
.II 
SaveChangesAsyncII +
(II+ ,
)II, -
;II- .
returnLL 
trueLL 
;LL 
}MM 	
publicPP 
asyncPP 
TaskPP 
<PP 
boolPP 
>PP 
DeleteEventPP  +
(PP+ ,
intPP, /
idPP0 2
)PP2 3
{QQ 	
varRR 
@eventRR 
=RR 
awaitRR 
_contextRR '
.RR' (
EventsRR( .
.RR. /
	FindAsyncRR/ 8
(RR8 9
idRR9 ;
)RR; <
;RR< =
ifSS 
(SS 
@eventSS 
==SS 
nullSS 
)SS 
{TT 
returnUU 
falseUU 
;UU 
}VV 
elseWW 
{XX 
_contextYY 
.YY 
EventsYY 
.YY  
RemoveYY  &
(YY& '
@eventYY' -
)YY- .
;YY. /
awaitZZ 
_contextZZ 
.ZZ 
SaveChangesAsyncZZ /
(ZZ/ 0
)ZZ0 1
;ZZ1 2
return\\ 
true\\ 
;\\ 
}]] 
}^^ 	
public`` 
bool`` 
EventExists`` 
(``  
int``  #
id``$ &
)``& '
{aa 	
returnbb 
_contextbb 
.bb 
Eventsbb "
.bb" #
Anybb# &
(bb& '
ebb' (
=>bb) +
ebb, -
.bb- .
EventIdbb. 5
==bb6 8
idbb9 ;
)bb; <
;bb< =
}cc 	
}dd 
}ee Ø
hC:\Users\NandKishor.Yadav\LMS\Asp.NetCore WebApi\ContosoAPIs\ContosoEvent\API\ContosoEventApi\Startup.cs
	namespace 	
ContosoEventApi
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddControllers #
(# $
)$ %
;% &
services 
. 
AddSwaggerGen "
(" #
c# $
=>% '
{ 
c 
. 

SwaggerDoc 
( 
$str !
,! "
new# &
OpenApiInfo' 2
{3 4
Title5 :
=; <
$str= N
,N O
VersionP W
=X Y
$strZ ^
}_ `
)` a
;a b
} 
) 
; 
services!! 
.!! 
AddDbContext!! !
<!!! "
EventContext!!" .
>!!. /
(!!/ 0
options!!0 7
=>!!8 :
options""
 
."" 
UseSqlServer"" 
("" 
Configuration"" ,
."", -
GetConnectionString""- @
(""@ A
$str""A T
)""T U
)""U V
)""V W
;""W X
services$$ 
.$$ 
AddTransient$$ !
<$$! "
IEvent$$" (
,$$( )
EventService$$* 6
>$$6 7
($$7 8
)$$8 9
;$$9 :
services%% 
.%% 
AddCors%% 
(%% 
)%% 
;%% 
}&& 	
public)) 
void)) 
	Configure)) 
()) 
IApplicationBuilder)) 1
app))2 5
,))5 6
IWebHostEnvironment))7 J
env))K N
)))N O
{** 	
app++ 
.++ 
UseCors++ 
(++ 
options++ 
=>++  "
options++# *
.++* +
WithOrigins+++ 6
(++6 7
$str++7 N
)++N O
.,, 
AllowAnyMethod,, 
(,, 
),, 
.-- 
AllowAnyHeader-- 
(-- 
)-- 
)-- 
;-- 
if// 
(// 
env// 
.// 
IsDevelopment// !
(//! "
)//" #
)//# $
{00 
app11 
.11 %
UseDeveloperExceptionPage11 -
(11- .
)11. /
;11/ 0
app22 
.22 

UseSwagger22 
(22 
)22  
;22  !
app33 
.33 
UseSwaggerUI33  
(33  !
c33! "
=>33# %
c33& '
.33' (
SwaggerEndpoint33( 7
(337 8
$str338 R
,33R S
$str33T h
)33h i
)33i j
;33j k
}44 
app66 
.66 

UseRouting66 
(66 
)66 
;66 
app88 
.88 
UseAuthorization88  
(88  !
)88! "
;88" #
app:: 
.:: 
UseEndpoints:: 
(:: 
	endpoints:: &
=>::' )
{;; 
	endpoints<< 
.<< 
MapControllers<< (
(<<( )
)<<) *
;<<* +
}== 
)== 
;== 
}>> 	
}?? 
}@@ 